{"ast":null,"code":"var _jsxFileName = \"/Users/francesson/reorganize/channel-list-app/src/components/MiningView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MiningView = ({\n  combinationHeaders,\n  loading,\n  error,\n  testMode,\n  onPatternSelect\n}) => {\n  _s();\n  const [miningData, setMiningData] = useState(null);\n  const [expandedNodes, setExpandedNodes] = useState({});\n  const [highlightedPattern, setHighlightedPattern] = useState(null);\n  const [algorithm, setAlgorithm] = useState('fpgrowth'); // Only use FP-Growth\n  const [minSupport, setMinSupport] = useState(0.01); // Changed to 1% default\n  const [minConfidence, setMinConfidence] = useState(0.01); // Changed to 1% default\n  const [maxDepth, setMaxDepth] = useState(100); // No practical limit\n  const [currentPath, setCurrentPath] = useState([]);\n  const [showSettings, setShowSettings] = useState(false);\n  const [ignoredNodes, setIgnoredNodes] = useState([]); // 배열로 변경\n  const treeContainerRef = useRef(null);\n\n  // 콘솔에 prop 확인 로그\n  useEffect(() => {\n    console.log('onPatternSelect prop:', onPatternSelect);\n    console.log('combinationHeaders:', combinationHeaders);\n  }, [onPatternSelect, combinationHeaders]);\n\n  // 메모이즈된 무시 노드 확인 함수\n  const isNodeIgnored = useCallback(nodeId => {\n    return ignoredNodes.includes(nodeId);\n  }, [ignoredNodes]);\n\n  // 데이터가 변경될 때마다 마이닝 실행\n  useEffect(() => {\n    if (combinationHeaders && combinationHeaders.length > 0) {\n      generateMiningData(combinationHeaders, algorithm);\n    } else {\n      setMiningData(null);\n    }\n  }, [combinationHeaders, algorithm, minSupport, minConfidence, maxDepth]);\n\n  // Function to generate mining data using Eclat or FP Growth algorithm\n  const generateMiningData = (combinationData, algo = 'eclat') => {\n    if (!combinationData || combinationData.length === 0) {\n      setMiningData(null);\n      return;\n    }\n\n    // Step 1: Create transactions from header combinations\n    const transactions = combinationData.filter(item => item.header_group).map(item => item.header_group.split('|'));\n\n    // Step 2: Count item frequencies for both algorithms\n    const itemCounts = {};\n    const totalTransactions = transactions.length;\n    transactions.forEach(transaction => {\n      transaction.forEach(item => {\n        itemCounts[item] = (itemCounts[item] || 0) + 1;\n      });\n    });\n\n    // Calculate minimum support threshold - use absolute minimum of 2\n    const minSupportCount = Math.max(2, Math.floor(totalTransactions * minSupport));\n\n    // Get frequent items sorted by frequency\n    const frequentItems = Object.keys(itemCounts).filter(item => itemCounts[item] >= minSupportCount).sort((a, b) => itemCounts[b] - itemCounts[a]);\n\n    // Create single tree structure with most frequent item as root\n    if (frequentItems.length === 0) {\n      setMiningData([]);\n      return;\n    }\n\n    // Build a single hierarchical tree structure instead of multiple independent trees\n    if (algo === 'eclat') {\n      // ECLAT ALGORITHM IMPLEMENTATION\n\n      // Step 1: Build vertical tid-lists (transaction ID lists) for each item\n      const tidLists = {};\n      frequentItems.forEach(item => {\n        tidLists[item] = new Set();\n      });\n      transactions.forEach((transaction, tid) => {\n        transaction.forEach(item => {\n          if (frequentItems.includes(item)) {\n            tidLists[item].add(tid);\n          }\n        });\n      });\n\n      // Create a single root node representing the most frequent item\n      const rootItem = frequentItems[0];\n      const rootSupport = tidLists[rootItem].size;\n      const singleTreeRoot = {\n        id: rootItem,\n        name: rootItem,\n        support: rootSupport,\n        confidence: rootSupport / totalTransactions,\n        children: []\n      };\n\n      // Build a tree structure following the frequency order of items\n      const buildOrderedTree = (currentNode, currentPrefix, currentTids, level) => {\n        if (level >= maxDepth) return;\n\n        // Find index of the current node's item in the frequentItems list\n        const currentItemIndex = frequentItems.indexOf(currentNode.name);\n\n        // Check for next items in the frequency order\n        for (let i = currentItemIndex + 1; i < frequentItems.length; i++) {\n          const nextItem = frequentItems[i];\n          const nextItemTids = tidLists[nextItem];\n\n          // Calculate intersection\n          const intersection = new Set([...currentTids].filter(tid => nextItemTids.has(tid)));\n          const support = intersection.size;\n\n          // Add to tree if support is sufficient\n          if (support >= Math.max(2, minSupportCount)) {\n            const newPrefix = [...currentPrefix, nextItem];\n            const confidence = support / currentTids.size;\n\n            // Add only if confidence is sufficient (reduced for deeper patterns)\n            if (confidence >= (level > 2 ? minConfidence / 2 : minConfidence)) {\n              const childNode = {\n                id: `${currentNode.id}-${nextItem}`,\n                name: nextItem,\n                support: support,\n                confidence: confidence,\n                children: []\n              };\n              currentNode.children.push(childNode);\n\n              // Recursively build tree with this child as new parent\n              buildOrderedTree(childNode, newPrefix, intersection, level + 1);\n            }\n          }\n        }\n      };\n\n      // Start building the tree from the root\n      buildOrderedTree(singleTreeRoot, [rootItem], tidLists[rootItem], 1);\n\n      // Initialize expanded nodes for visualization\n      const initialExpanded = {};\n      initialExpanded[rootItem] = true; // Expand root node\n\n      // Expand first level children\n      if (singleTreeRoot.children && singleTreeRoot.children.length > 0) {\n        singleTreeRoot.children.slice(0, 5).forEach(child => {\n          initialExpanded[child.id] = true;\n\n          // Also expand first grandchild if available\n          if (child.children && child.children.length > 0) {\n            initialExpanded[child.children[0].id] = true;\n          }\n        });\n      }\n\n      // Set the result as a single-item array containing the root\n      setMiningData([singleTreeRoot]);\n      setExpandedNodes(initialExpanded);\n    } else {\n      // FP-GROWTH for a single hierarchical tree\n\n      // Step 3: Reorder transactions based on frequency\n      const orderedTransactions = transactions.map(transaction => {\n        return transaction.filter(item => frequentItems.includes(item)).sort((a, b) => itemCounts[b] - itemCounts[a]);\n      }).filter(transaction => transaction.length > 0);\n\n      // Create a single root node for the most frequent item\n      const rootItem = frequentItems[0];\n      const singleTreeRoot = {\n        id: rootItem,\n        name: rootItem,\n        support: itemCounts[rootItem],\n        confidence: itemCounts[rootItem] / totalTransactions,\n        children: []\n      };\n\n      // Create a mapping of patterns to their support count\n      const patternSupports = {};\n\n      // First pass - gather all pattern supports\n      orderedTransactions.forEach(transaction => {\n        if (transaction.length < 2) return;\n        for (let i = 0; i < transaction.length; i++) {\n          for (let j = i + 1; j < transaction.length; j++) {\n            const pattern = [transaction[i], transaction[j]];\n            const key = pattern.join('-');\n            patternSupports[key] = (patternSupports[key] || 0) + 1;\n          }\n        }\n      });\n\n      // Then build tree with those precomputed pattern supports\n      const buildOrderedFPTree = (currentNode, level) => {\n        if (level >= maxDepth) return;\n        const currentItemIndex = frequentItems.indexOf(currentNode.name);\n        for (let i = currentItemIndex + 1; i < frequentItems.length; i++) {\n          const nextItem = frequentItems[i];\n\n          // Check if the pair meets minimum support\n          const patternKey = [currentNode.name, nextItem].join('-');\n          const support = patternSupports[patternKey] || 0;\n          if (support >= Math.max(2, minSupportCount)) {\n            const confidence = support / itemCounts[currentNode.name];\n            if (confidence >= (level > 2 ? minConfidence / 2 : minConfidence)) {\n              const childNode = {\n                id: `${currentNode.id}-${nextItem}`,\n                name: nextItem,\n                support: support,\n                confidence: confidence,\n                children: []\n              };\n              currentNode.children.push(childNode);\n              buildOrderedFPTree(childNode, level + 1);\n            }\n          }\n        }\n      };\n\n      // Start building the tree from the root\n      buildOrderedFPTree(singleTreeRoot, 1);\n\n      // Initialize expanded nodes for visualization\n      const initialExpanded = {};\n      initialExpanded[rootItem] = true; // Expand root node\n\n      // Expand first level children\n      if (singleTreeRoot.children && singleTreeRoot.children.length > 0) {\n        singleTreeRoot.children.slice(0, 5).forEach(child => {\n          initialExpanded[child.id] = true;\n\n          // Also expand first grandchild if available\n          if (child.children && child.children.length > 0) {\n            initialExpanded[child.children[0].id] = true;\n          }\n        });\n      }\n\n      // Set the result as a single-item array containing the root\n      setMiningData([singleTreeRoot]);\n      setExpandedNodes(initialExpanded);\n    }\n  };\n\n  // Function to toggle node expansion\n  const toggleNode = nodeId => {\n    console.log('Toggle node expansion:', nodeId);\n    setExpandedNodes(prev => ({\n      ...prev,\n      [nodeId]: !prev[nodeId]\n    }));\n  };\n\n  // Function to ignore a node\n  const ignoreNode = nodeId => {\n    if (!nodeId) {\n      console.warn('ignoreNode: nodeId is undefined');\n      return;\n    }\n    console.log('Ignoring node:', nodeId);\n\n    // 배열로 상태 업데이트 - React가 확실히 변경을 감지\n    setIgnoredNodes(prev => {\n      if (prev.includes(nodeId)) {\n        return prev; // 이미 무시 중이면 변경하지 않음\n      }\n      const newIgnored = [...prev, nodeId]; // 새 배열 생성\n      console.log('New ignored nodes:', newIgnored);\n\n      // 피드백 표시\n      const parts = nodeId.split('-');\n      const nodeName = parts[parts.length - 1];\n      showNotification(`'${nodeName}' 노드가 무시됨`, 'ignore');\n      return newIgnored;\n    });\n  };\n\n  // 알림 표시 함수\n  const showNotification = (message, type = 'normal') => {\n    // 이전 알림 제거\n    const existingNotifications = document.querySelectorAll('.pattern-notification');\n    existingNotifications.forEach(n => {\n      if (n.parentNode) {\n        n.parentNode.removeChild(n);\n      }\n    });\n\n    // 새 알림 생성\n    const notification = document.createElement('div');\n    notification.className = `pattern-notification ${type === 'ignore' ? 'ignore-notification' : ''}`;\n    notification.textContent = message;\n    document.body.appendChild(notification);\n    setTimeout(() => {\n      notification.style.opacity = '0';\n      setTimeout(() => {\n        if (notification.parentNode) {\n          document.body.removeChild(notification);\n        }\n      }, 300);\n    }, 2000);\n  };\n\n  // Function to send pattern to API\n  const sendPatternToAPI = node => {\n    console.log('sendPatternToAPI called with node:', node);\n    if (!node || !node.id) {\n      console.warn('Invalid node:', node);\n      return;\n    }\n\n    // 콜백 함수 확인\n    if (typeof onPatternSelect !== 'function') {\n      console.warn('onPatternSelect is not a function:', onPatternSelect);\n      showNotification('패턴 선택 핸들러가 없습니다', 'ignore');\n      return;\n    }\n\n    // Get full pattern from node to root\n    const getFullPattern = nodeId => {\n      const parts = nodeId.split('-');\n      return parts.filter(part => !ignoredNodes.includes(part));\n    };\n\n    // Get full pattern without ignored nodes\n    const pattern = getFullPattern(node.id);\n\n    // Join with delimiter\n    const patternString = pattern.join('|');\n    console.log('Pattern to send:', patternString);\n\n    // 패턴이 비어있는지 확인\n    if (!patternString) {\n      console.warn('Pattern is empty after filtering ignored nodes');\n      showNotification('선택한 패턴이 비어 있습니다', 'ignore');\n      return;\n    }\n\n    // 패턴 전송\n    try {\n      onPatternSelect(patternString);\n      console.log('Pattern sent successfully:', patternString);\n      showNotification(`패턴 선택됨: ${patternString}`);\n    } catch (error) {\n      console.error('Error sending pattern:', error);\n      showNotification('패턴 전송 중 오류 발생', 'ignore');\n    }\n  };\n\n  // Toggle settings panel\n  const toggleSettings = () => {\n    setShowSettings(prev => !prev);\n  };\n\n  // Setup initial path on first render\n  useEffect(() => {\n    if (miningData && miningData.length > 0) {\n      // Set initial path to root node\n      const rootItem = miningData[0].name;\n      setCurrentPath([rootItem]);\n    }\n  }, [miningData]);\n\n  // Change minimum support threshold\n  const handleSupportChange = e => {\n    const value = parseFloat(e.target.value);\n    if (!isNaN(value) && value > 0 && value <= 1) {\n      setMinSupport(value);\n    }\n  };\n\n  // Change minimum confidence threshold\n  const handleConfidenceChange = e => {\n    const value = parseFloat(e.target.value);\n    if (!isNaN(value) && value > 0 && value <= 1) {\n      setMinConfidence(value);\n    }\n  };\n\n  // Change maximum depth\n  const handleDepthChange = e => {\n    const value = parseInt(e.target.value);\n    if (!isNaN(value) && value > 0) {\n      setMaxDepth(value);\n    }\n  };\n\n  // Recursive function to render tree nodes using divs\n  const renderTreeNode = (node, level) => {\n    if (!node || isNodeIgnored(node.id)) return null;\n    const isExpanded = expandedNodes[node.id] || false;\n    const isHighlighted = highlightedPattern && highlightedPattern.includes(node.id);\n    const handleNodeMouseEnter = () => {\n      // Find all ancestors and highlight the path\n      const pattern = [node.id];\n      let currentId = node.id;\n      const parts = currentId.split('-');\n      while (parts.length > 1) {\n        parts.pop();\n        const parentId = parts.join('-');\n        pattern.push(parentId);\n      }\n      setHighlightedPattern(pattern);\n\n      // Extract only the item names for the path display\n      const simplifiedPath = [];\n      pattern.forEach(id => {\n        const idParts = id.split('-');\n        const lastPart = idParts[idParts.length - 1];\n        simplifiedPath.unshift(lastPart);\n      });\n      setCurrentPath(simplifiedPath);\n    };\n    const handleNodeMouseLeave = () => {\n      setHighlightedPattern(null);\n      // Keep current path visible\n    };\n    const handleNodeClick = e => {\n      if (e.target.closest('.ignore-button') || e.target.closest('.expand-button')) {\n        // Ignore clicks on buttons\n        return;\n      }\n\n      // Handle node selection\n      console.log('Node clicked:', node.id);\n      sendPatternToAPI(node);\n    };\n    const handleToggleClick = e => {\n      e.stopPropagation();\n      toggleNode(node.id);\n    };\n    const handleIgnoreClick = e => {\n      e.stopPropagation();\n      ignoreNode(node.id);\n    };\n\n    // Truncate display text if too long\n    let displayText = node.name;\n    if (displayText.length > 25) {\n      displayText = displayText.substring(0, 23) + '...';\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `tree-node-div ${isHighlighted ? 'node-highlighted' : ''} ${level === 0 ? 'root-node' : ''}`,\n      style: {\n        marginLeft: level * 30\n      },\n      onMouseEnter: handleNodeMouseEnter,\n      onMouseLeave: handleNodeMouseLeave,\n      onClick: handleNodeClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"node-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"node-text\",\n          style: {\n            fontWeight: level === 0 ? 'bold' : 'normal'\n          },\n          children: displayText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"node-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"support-value\",\n            children: node.support\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ignore-button\",\n            onClick: handleIgnoreClick,\n            title: \"\\uC774 \\uB178\\uB4DC \\uBB34\\uC2DC\\uD558\\uAE30\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), node.children && node.children.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"expand-button\",\n            onClick: handleToggleClick,\n            title: isExpanded ? \"접기\" : \"펼치기\",\n            children: isExpanded ? '−' : '+'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), level > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `node-connector ${isHighlighted ? 'connector-highlighted' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 11\n      }, this), isExpanded && node.children && node.children.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"node-children\",\n        children: node.children.sort((a, b) => b.support - a.support).map(child => renderTreeNode(child, level + 1))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this)]\n    }, node.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab-content\",\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: [\"\\uC5D0\\uB7EC: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 9\n    }, this) : combinationHeaders && combinationHeaders.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mining-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mining-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"current-path\",\n          children: currentPath.map((item, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [index > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"path-separator\",\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: index === 0 ? \"path-root\" : \"\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this)]\n          }, item + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [ignoredNodes.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"reset-button\",\n            onClick: () => {\n              console.log('Reset ignored nodes');\n              setIgnoredNodes([]);\n              showNotification('무시된 노드를 모두 초기화했습니다');\n            },\n            children: [\"\\uBB34\\uC2DC \\uCD08\\uAE30\\uD654 (\", ignoredNodes.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"settings-button\",\n            onClick: toggleSettings,\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mining-tree-container\",\n        ref: treeContainerRef,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"div-tree\",\n          children: miningData && miningData.map(node => renderTreeNode(node, 0))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD328\\uD134 \\uC124\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: toggleSettings,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"threshold-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-label\",\n              children: [(minSupport * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0.01\",\n              max: \"0.5\",\n              step: \"0.01\",\n              value: minSupport,\n              onChange: handleSupportChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-name\",\n              children: \"\\uCD5C\\uC18C \\uC9C0\\uC9C0\\uB3C4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"threshold-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-label\",\n              children: [(minConfidence * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"0.01\",\n              max: \"0.9\",\n              step: \"0.01\",\n              value: minConfidence,\n              onChange: handleConfidenceChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-name\",\n              children: \"\\uCD5C\\uC18C \\uC2E0\\uB8B0\\uB3C4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"threshold-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-label\",\n              children: maxDepth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: \"3\",\n              max: \"100\",\n              step: \"1\",\n              value: maxDepth,\n              onChange: handleDepthChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"threshold-name\",\n              children: \"\\uCD5C\\uB300 \\uD328\\uD134 \\uAE4A\\uC774\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"column-empty\",\n      children: testMode ? \"마이닝 데이터를 로딩 중입니다...\" : \"채널과 헤더를 선택하면 마이닝 결과가 표시됩니다.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .mining-view {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          position: relative;\n        }\n        \n        .mining-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 8px 10px;\n          background-color: #ffffff;\n          border-bottom: 1px solid #eee;\n          z-index: 2;\n          position: sticky;\n          top: 0;\n        }\n        \n        .current-path {\n          font-size: 13px;\n          color: #555;\n          flex-grow: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .path-separator {\n          margin: 0 6px;\n          color: #999;\n        }\n        \n        .path-root {\n          font-weight: bold;\n        }\n        \n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .reset-button {\n          background: #f5f5f5;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          padding: 3px 8px;\n          font-size: 11px;\n          cursor: pointer;\n          color: #666;\n        }\n        \n        .reset-button:hover {\n          background: #eee;\n        }\n        \n        .settings-button {\n          background: none;\n          border: none;\n          font-size: 16px;\n          cursor: pointer;\n          padding: 4px 8px;\n          border-radius: 4px;\n          transition: background-color 0.2s;\n        }\n        \n        .settings-button:hover {\n          background-color: #f5f5f5;\n        }\n        \n        .mining-tree-container {\n          flex-grow: 1;\n          overflow: auto;\n          background-color: #ffffff;\n          padding: 10px;\n          border: 1px solid #e0e0e0;\n          border-top: none;\n        }\n        \n        .div-tree {\n          width: 100%;\n          position: relative;\n        }\n        \n        /* Tree node styling */\n        .tree-node-div {\n          position: relative;\n          margin-bottom: 10px;\n          cursor: pointer;\n        }\n        \n        .node-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 6px 12px;\n          background-color: #ffffff;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          min-height: 32px;\n          box-shadow: 0 1px 2px rgba(0,0,0,0.05);\n          transition: all 0.2s ease;\n        }\n        \n        .root-node .node-content {\n          background-color: #f8f9fa;\n        }\n        \n        .node-highlighted .node-content {\n          background-color: #e6f2fa;\n          border-color: #3498db;\n        }\n        \n        .node-text {\n          flex-grow: 1;\n          font-size: 12px;\n          color: #333;\n          margin-right: 10px;\n        }\n        \n        .node-actions {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n        \n        .support-value {\n          font-size: 12px;\n          color: #555;\n          min-width: 20px;\n          text-align: right;\n        }\n        \n        .ignore-button, .expand-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 18px;\n          height: 18px;\n          font-size: 10px;\n          background: #f5f5f5;\n          border: 1px solid #ddd;\n          border-radius: 50%;\n          cursor: pointer;\n          padding: 0;\n          transition: all 0.2s ease;\n        }\n        \n        .ignore-button:hover {\n          background: #fee;\n          color: #e74c3c;\n        }\n        \n        .expand-button:hover {\n          background: #eee;\n        }\n        \n        /* Connector lines */\n        .node-connector {\n          position: absolute;\n          left: -15px;\n          top: 16px;\n          height: 1px;\n          width: 15px;\n          background-color: #eee;\n        }\n        \n        .node-connector:before {\n          content: '';\n          position: absolute;\n          left: -15px;\n          width: 1px;\n          height: 100%;\n          background-color: #eee;\n          transform: translateY(-100%);\n        }\n        \n        .connector-highlighted {\n          background-color: #3498db;\n        }\n        \n        .connector-highlighted:before {\n          background-color: #3498db;\n        }\n        \n        .node-children {\n          position: relative;\n          margin-top: 10px;\n        }\n        \n        .settings-panel {\n          position: absolute;\n          top: 45px;\n          right: 10px;\n          width: 280px;\n          background: white;\n          border-radius: 6px;\n          box-shadow: 0 3px 10px rgba(0,0,0,0.15);\n          z-index: 10;\n          overflow: hidden;\n        }\n        \n        .settings-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px 15px;\n          background: #f8f9fa;\n          border-bottom: 1px solid #eee;\n        }\n        \n        .settings-header h3 {\n          margin: 0;\n          font-size: 14px;\n          color: #333;\n        }\n        \n        .close-button {\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #666;\n        }\n        \n        .settings-content {\n          padding: 15px;\n        }\n        \n        .threshold-item {\n          margin-bottom: 15px;\n        }\n        \n        .threshold-label {\n          font-size: 13px;\n          font-weight: bold;\n          color: #333;\n          margin-bottom: 4px;\n          text-align: right;\n        }\n        \n        .threshold-name {\n          font-size: 12px;\n          color: #666;\n          margin-top: 2px;\n        }\n        \n        .threshold-item input {\n          width: 100%;\n        }\n        \n        .pattern-notification {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background: rgba(52, 152, 219, 0.9);\n          color: white;\n          padding: 10px 15px;\n          border-radius: 4px;\n          font-size: 12px;\n          z-index: 1000;\n          transition: opacity 0.3s;\n          opacity: 1;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n        }\n        \n        .ignore-notification {\n          background: rgba(231, 76, 60, 0.9);\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 523,\n    columnNumber: 5\n  }, this);\n};\n_s(MiningView, \"YWxVYhH/5g1/VOrppmGfB4B69HM=\");\n_c = MiningView;\nexport default MiningView;\nvar _c;\n$RefreshReg$(_c, \"MiningView\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","MiningView","combinationHeaders","loading","error","testMode","onPatternSelect","_s","miningData","setMiningData","expandedNodes","setExpandedNodes","highlightedPattern","setHighlightedPattern","algorithm","setAlgorithm","minSupport","setMinSupport","minConfidence","setMinConfidence","maxDepth","setMaxDepth","currentPath","setCurrentPath","showSettings","setShowSettings","ignoredNodes","setIgnoredNodes","treeContainerRef","console","log","isNodeIgnored","nodeId","includes","length","generateMiningData","combinationData","algo","transactions","filter","item","header_group","map","split","itemCounts","totalTransactions","forEach","transaction","minSupportCount","Math","max","floor","frequentItems","Object","keys","sort","a","b","tidLists","Set","tid","add","rootItem","rootSupport","size","singleTreeRoot","id","name","support","confidence","children","buildOrderedTree","currentNode","currentPrefix","currentTids","level","currentItemIndex","indexOf","i","nextItem","nextItemTids","intersection","has","newPrefix","childNode","push","initialExpanded","slice","child","orderedTransactions","patternSupports","j","pattern","key","join","buildOrderedFPTree","patternKey","toggleNode","prev","ignoreNode","warn","newIgnored","parts","nodeName","showNotification","message","type","existingNotifications","document","querySelectorAll","n","parentNode","removeChild","notification","createElement","className","textContent","body","appendChild","setTimeout","style","opacity","sendPatternToAPI","node","getFullPattern","part","patternString","toggleSettings","handleSupportChange","e","value","parseFloat","target","isNaN","handleConfidenceChange","handleDepthChange","parseInt","renderTreeNode","isExpanded","isHighlighted","handleNodeMouseEnter","currentId","pop","parentId","simplifiedPath","idParts","lastPart","unshift","handleNodeMouseLeave","handleNodeClick","closest","handleToggleClick","stopPropagation","handleIgnoreClick","displayText","substring","marginLeft","onMouseEnter","onMouseLeave","onClick","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","title","index","ref","toFixed","min","step","onChange","jsx","_c","$RefreshReg$"],"sources":["/Users/francesson/reorganize/channel-list-app/src/components/MiningView.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nconst MiningView = ({ combinationHeaders, loading, error, testMode, onPatternSelect }) => {\n  const [miningData, setMiningData] = useState(null);\n  const [expandedNodes, setExpandedNodes] = useState({});\n  const [highlightedPattern, setHighlightedPattern] = useState(null);\n  const [algorithm, setAlgorithm] = useState('fpgrowth'); // Only use FP-Growth\n  const [minSupport, setMinSupport] = useState(0.01); // Changed to 1% default\n  const [minConfidence, setMinConfidence] = useState(0.01); // Changed to 1% default\n  const [maxDepth, setMaxDepth] = useState(100); // No practical limit\n  const [currentPath, setCurrentPath] = useState([]);\n  const [showSettings, setShowSettings] = useState(false);\n  const [ignoredNodes, setIgnoredNodes] = useState([]); // 배열로 변경\n  const treeContainerRef = useRef(null);\n  \n  // 콘솔에 prop 확인 로그\n  useEffect(() => {\n    console.log('onPatternSelect prop:', onPatternSelect);\n    console.log('combinationHeaders:', combinationHeaders);\n  }, [onPatternSelect, combinationHeaders]);\n\n  // 메모이즈된 무시 노드 확인 함수\n  const isNodeIgnored = useCallback((nodeId) => {\n    return ignoredNodes.includes(nodeId);\n  }, [ignoredNodes]);\n\n  // 데이터가 변경될 때마다 마이닝 실행\n  useEffect(() => {\n    if (combinationHeaders && combinationHeaders.length > 0) {\n      generateMiningData(combinationHeaders, algorithm);\n    } else {\n      setMiningData(null);\n    }\n  }, [combinationHeaders, algorithm, minSupport, minConfidence, maxDepth]);\n\n  // Function to generate mining data using Eclat or FP Growth algorithm\n  const generateMiningData = (combinationData, algo = 'eclat') => {\n    if (!combinationData || combinationData.length === 0) {\n      setMiningData(null);\n      return;\n    }\n\n    // Step 1: Create transactions from header combinations\n    const transactions = combinationData\n      .filter(item => item.header_group)\n      .map(item => item.header_group.split('|'));\n\n    // Step 2: Count item frequencies for both algorithms\n    const itemCounts = {};\n    const totalTransactions = transactions.length;\n    \n    transactions.forEach(transaction => {\n      transaction.forEach(item => {\n        itemCounts[item] = (itemCounts[item] || 0) + 1;\n      });\n    });\n\n    // Calculate minimum support threshold - use absolute minimum of 2\n    const minSupportCount = Math.max(2, Math.floor(totalTransactions * minSupport));\n    \n    // Get frequent items sorted by frequency\n    const frequentItems = Object.keys(itemCounts)\n      .filter(item => itemCounts[item] >= minSupportCount)\n      .sort((a, b) => itemCounts[b] - itemCounts[a]);\n\n    // Create single tree structure with most frequent item as root\n    if (frequentItems.length === 0) {\n      setMiningData([]);\n      return;\n    }\n    \n    // Build a single hierarchical tree structure instead of multiple independent trees\n    if (algo === 'eclat') {\n      // ECLAT ALGORITHM IMPLEMENTATION\n      \n      // Step 1: Build vertical tid-lists (transaction ID lists) for each item\n      const tidLists = {};\n      frequentItems.forEach(item => {\n        tidLists[item] = new Set();\n      });\n      \n      transactions.forEach((transaction, tid) => {\n        transaction.forEach(item => {\n          if (frequentItems.includes(item)) {\n            tidLists[item].add(tid);\n          }\n        });\n      });\n      \n      // Create a single root node representing the most frequent item\n      const rootItem = frequentItems[0];\n      const rootSupport = tidLists[rootItem].size;\n      \n      const singleTreeRoot = {\n        id: rootItem,\n        name: rootItem,\n        support: rootSupport,\n        confidence: rootSupport / totalTransactions,\n        children: []\n      };\n      \n      // Build a tree structure following the frequency order of items\n      const buildOrderedTree = (currentNode, currentPrefix, currentTids, level) => {\n        if (level >= maxDepth) return;\n        \n        // Find index of the current node's item in the frequentItems list\n        const currentItemIndex = frequentItems.indexOf(currentNode.name);\n        \n        // Check for next items in the frequency order\n        for (let i = currentItemIndex + 1; i < frequentItems.length; i++) {\n          const nextItem = frequentItems[i];\n          const nextItemTids = tidLists[nextItem];\n          \n          // Calculate intersection\n          const intersection = new Set([...currentTids].filter(tid => nextItemTids.has(tid)));\n          const support = intersection.size;\n          \n          // Add to tree if support is sufficient\n          if (support >= Math.max(2, minSupportCount)) {\n            const newPrefix = [...currentPrefix, nextItem];\n            const confidence = support / currentTids.size;\n            \n            // Add only if confidence is sufficient (reduced for deeper patterns)\n            if (confidence >= (level > 2 ? minConfidence/2 : minConfidence)) {\n              const childNode = {\n                id: `${currentNode.id}-${nextItem}`,\n                name: nextItem,\n                support: support,\n                confidence: confidence,\n                children: []\n              };\n              \n              currentNode.children.push(childNode);\n              \n              // Recursively build tree with this child as new parent\n              buildOrderedTree(childNode, newPrefix, intersection, level + 1);\n            }\n          }\n        }\n      };\n      \n      // Start building the tree from the root\n      buildOrderedTree(singleTreeRoot, [rootItem], tidLists[rootItem], 1);\n      \n      // Initialize expanded nodes for visualization\n      const initialExpanded = {};\n      initialExpanded[rootItem] = true; // Expand root node\n      \n      // Expand first level children\n      if (singleTreeRoot.children && singleTreeRoot.children.length > 0) {\n        singleTreeRoot.children.slice(0, 5).forEach(child => {\n          initialExpanded[child.id] = true;\n          \n          // Also expand first grandchild if available\n          if (child.children && child.children.length > 0) {\n            initialExpanded[child.children[0].id] = true;\n          }\n        });\n      }\n      \n      // Set the result as a single-item array containing the root\n      setMiningData([singleTreeRoot]);\n      setExpandedNodes(initialExpanded);\n      \n    } else {\n      // FP-GROWTH for a single hierarchical tree\n      \n      // Step 3: Reorder transactions based on frequency\n      const orderedTransactions = transactions.map(transaction => {\n        return transaction\n          .filter(item => frequentItems.includes(item))\n          .sort((a, b) => itemCounts[b] - itemCounts[a]);\n      }).filter(transaction => transaction.length > 0);\n      \n      // Create a single root node for the most frequent item\n      const rootItem = frequentItems[0];\n      \n      const singleTreeRoot = {\n        id: rootItem,\n        name: rootItem,\n        support: itemCounts[rootItem],\n        confidence: itemCounts[rootItem] / totalTransactions,\n        children: []\n      };\n      \n      // Create a mapping of patterns to their support count\n      const patternSupports = {};\n      \n      // First pass - gather all pattern supports\n      orderedTransactions.forEach(transaction => {\n        if (transaction.length < 2) return;\n        \n        for (let i = 0; i < transaction.length; i++) {\n          for (let j = i + 1; j < transaction.length; j++) {\n            const pattern = [transaction[i], transaction[j]];\n            const key = pattern.join('-');\n            patternSupports[key] = (patternSupports[key] || 0) + 1;\n          }\n        }\n      });\n      \n      // Then build tree with those precomputed pattern supports\n      const buildOrderedFPTree = (currentNode, level) => {\n        if (level >= maxDepth) return;\n        \n        const currentItemIndex = frequentItems.indexOf(currentNode.name);\n        \n        for (let i = currentItemIndex + 1; i < frequentItems.length; i++) {\n          const nextItem = frequentItems[i];\n          \n          // Check if the pair meets minimum support\n          const patternKey = [currentNode.name, nextItem].join('-');\n          const support = patternSupports[patternKey] || 0;\n          \n          if (support >= Math.max(2, minSupportCount)) {\n            const confidence = support / itemCounts[currentNode.name];\n            \n            if (confidence >= (level > 2 ? minConfidence/2 : minConfidence)) {\n              const childNode = {\n                id: `${currentNode.id}-${nextItem}`,\n                name: nextItem,\n                support: support,\n                confidence: confidence,\n                children: []\n              };\n              \n              currentNode.children.push(childNode);\n              buildOrderedFPTree(childNode, level + 1);\n            }\n          }\n        }\n      };\n      \n      // Start building the tree from the root\n      buildOrderedFPTree(singleTreeRoot, 1);\n      \n      // Initialize expanded nodes for visualization\n      const initialExpanded = {};\n      initialExpanded[rootItem] = true; // Expand root node\n      \n      // Expand first level children\n      if (singleTreeRoot.children && singleTreeRoot.children.length > 0) {\n        singleTreeRoot.children.slice(0, 5).forEach(child => {\n          initialExpanded[child.id] = true;\n          \n          // Also expand first grandchild if available\n          if (child.children && child.children.length > 0) {\n            initialExpanded[child.children[0].id] = true;\n          }\n        });\n      }\n      \n      // Set the result as a single-item array containing the root\n      setMiningData([singleTreeRoot]);\n      setExpandedNodes(initialExpanded);\n    }\n  };\n\n  // Function to toggle node expansion\n  const toggleNode = (nodeId) => {\n    console.log('Toggle node expansion:', nodeId);\n    setExpandedNodes(prev => ({\n      ...prev,\n      [nodeId]: !prev[nodeId]\n    }));\n  };\n\n  // Function to ignore a node\n  const ignoreNode = (nodeId) => {\n    if (!nodeId) {\n      console.warn('ignoreNode: nodeId is undefined');\n      return;\n    }\n    \n    console.log('Ignoring node:', nodeId);\n    \n    // 배열로 상태 업데이트 - React가 확실히 변경을 감지\n    setIgnoredNodes(prev => {\n      if (prev.includes(nodeId)) {\n        return prev; // 이미 무시 중이면 변경하지 않음\n      }\n      \n      const newIgnored = [...prev, nodeId]; // 새 배열 생성\n      console.log('New ignored nodes:', newIgnored);\n      \n      // 피드백 표시\n      const parts = nodeId.split('-');\n      const nodeName = parts[parts.length - 1];\n      showNotification(`'${nodeName}' 노드가 무시됨`, 'ignore');\n      \n      return newIgnored;\n    });\n  };\n  \n  // 알림 표시 함수\n  const showNotification = (message, type = 'normal') => {\n    // 이전 알림 제거\n    const existingNotifications = document.querySelectorAll('.pattern-notification');\n    existingNotifications.forEach(n => {\n      if (n.parentNode) {\n        n.parentNode.removeChild(n);\n      }\n    });\n    \n    // 새 알림 생성\n    const notification = document.createElement('div');\n    notification.className = `pattern-notification ${type === 'ignore' ? 'ignore-notification' : ''}`;\n    notification.textContent = message;\n    document.body.appendChild(notification);\n    \n    setTimeout(() => {\n      notification.style.opacity = '0';\n      setTimeout(() => {\n        if (notification.parentNode) {\n          document.body.removeChild(notification);\n        }\n      }, 300);\n    }, 2000);\n  };\n  \n  // Function to send pattern to API\n  const sendPatternToAPI = (node) => {\n    console.log('sendPatternToAPI called with node:', node);\n    \n    if (!node || !node.id) {\n      console.warn('Invalid node:', node);\n      return;\n    }\n    \n    // 콜백 함수 확인\n    if (typeof onPatternSelect !== 'function') {\n      console.warn('onPatternSelect is not a function:', onPatternSelect);\n      showNotification('패턴 선택 핸들러가 없습니다', 'ignore');\n      return;\n    }\n    \n    // Get full pattern from node to root\n    const getFullPattern = (nodeId) => {\n      const parts = nodeId.split('-');\n      return parts.filter(part => !ignoredNodes.includes(part));\n    };\n    \n    // Get full pattern without ignored nodes\n    const pattern = getFullPattern(node.id);\n    \n    // Join with delimiter\n    const patternString = pattern.join('|');\n    \n    console.log('Pattern to send:', patternString);\n    \n    // 패턴이 비어있는지 확인\n    if (!patternString) {\n      console.warn('Pattern is empty after filtering ignored nodes');\n      showNotification('선택한 패턴이 비어 있습니다', 'ignore');\n      return;\n    }\n    \n    // 패턴 전송\n    try {\n      onPatternSelect(patternString);\n      console.log('Pattern sent successfully:', patternString);\n      showNotification(`패턴 선택됨: ${patternString}`);\n    } catch (error) {\n      console.error('Error sending pattern:', error);\n      showNotification('패턴 전송 중 오류 발생', 'ignore');\n    }\n  };\n\n  // Toggle settings panel\n  const toggleSettings = () => {\n    setShowSettings(prev => !prev);\n  };\n\n  // Setup initial path on first render\n  useEffect(() => {\n    if (miningData && miningData.length > 0) {\n      // Set initial path to root node\n      const rootItem = miningData[0].name;\n      setCurrentPath([rootItem]);\n    }\n  }, [miningData]);\n\n  // Change minimum support threshold\n  const handleSupportChange = (e) => {\n    const value = parseFloat(e.target.value);\n    if (!isNaN(value) && value > 0 && value <= 1) {\n      setMinSupport(value);\n    }\n  };\n  \n  // Change minimum confidence threshold\n  const handleConfidenceChange = (e) => {\n    const value = parseFloat(e.target.value);\n    if (!isNaN(value) && value > 0 && value <= 1) {\n      setMinConfidence(value);\n    }\n  };\n  \n  // Change maximum depth\n  const handleDepthChange = (e) => {\n    const value = parseInt(e.target.value);\n    if (!isNaN(value) && value > 0) {\n      setMaxDepth(value);\n    }\n  };\n\n  // Recursive function to render tree nodes using divs\n  const renderTreeNode = (node, level) => {\n    if (!node || isNodeIgnored(node.id)) return null;\n    \n    const isExpanded = expandedNodes[node.id] || false;\n    const isHighlighted = highlightedPattern && highlightedPattern.includes(node.id);\n    \n    const handleNodeMouseEnter = () => {\n      // Find all ancestors and highlight the path\n      const pattern = [node.id];\n      let currentId = node.id;\n      const parts = currentId.split('-');\n      \n      while (parts.length > 1) {\n        parts.pop();\n        const parentId = parts.join('-');\n        pattern.push(parentId);\n      }\n      \n      setHighlightedPattern(pattern);\n      \n      // Extract only the item names for the path display\n      const simplifiedPath = [];\n      pattern.forEach(id => {\n        const idParts = id.split('-');\n        const lastPart = idParts[idParts.length - 1];\n        simplifiedPath.unshift(lastPart);\n      });\n      \n      setCurrentPath(simplifiedPath);\n    };\n    \n    const handleNodeMouseLeave = () => {\n      setHighlightedPattern(null);\n      // Keep current path visible\n    };\n    \n    const handleNodeClick = (e) => {\n      if (e.target.closest('.ignore-button') || e.target.closest('.expand-button')) {\n        // Ignore clicks on buttons\n        return;\n      }\n      \n      // Handle node selection\n      console.log('Node clicked:', node.id);\n      sendPatternToAPI(node);\n    };\n    \n    const handleToggleClick = (e) => {\n      e.stopPropagation();\n      toggleNode(node.id);\n    };\n    \n    const handleIgnoreClick = (e) => {\n      e.stopPropagation();\n      ignoreNode(node.id);\n    };\n    \n    // Truncate display text if too long\n    let displayText = node.name;\n    if (displayText.length > 25) {\n      displayText = displayText.substring(0, 23) + '...';\n    }\n    \n    return (\n      <div \n        key={node.id}\n        className={`tree-node-div ${isHighlighted ? 'node-highlighted' : ''} ${level === 0 ? 'root-node' : ''}`}\n        style={{ marginLeft: level * 30 }}\n        onMouseEnter={handleNodeMouseEnter}\n        onMouseLeave={handleNodeMouseLeave}\n        onClick={handleNodeClick}\n      >\n        <div className=\"node-content\">\n          <span className=\"node-text\" style={{ fontWeight: level === 0 ? 'bold' : 'normal' }}>\n            {displayText}\n          </span>\n          <div className=\"node-actions\">\n            <span className=\"support-value\">{node.support}</span>\n            <button \n              className=\"ignore-button\" \n              onClick={handleIgnoreClick}\n              title=\"이 노드 무시하기\"\n            >\n              ✕\n            </button>\n            {node.children && node.children.length > 0 && (\n              <button \n                className=\"expand-button\" \n                onClick={handleToggleClick}\n                title={isExpanded ? \"접기\" : \"펼치기\"}\n              >\n                {isExpanded ? '−' : '+'}\n              </button>\n            )}\n          </div>\n        </div>\n        \n        {/* Connector lines using CSS before/after */}\n        {level > 0 && (\n          <div className={`node-connector ${isHighlighted ? 'connector-highlighted' : ''}`}></div>\n        )}\n        \n        {/* Children */}\n        {isExpanded && node.children && node.children.length > 0 && (\n          <div className=\"node-children\">\n            {node.children\n              .sort((a, b) => b.support - a.support)\n              .map(child => renderTreeNode(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"tab-content\">\n      {loading ? (\n        <div className=\"loading\">로딩 중...</div>\n      ) : error ? (\n        <div className=\"error\">에러: {error}</div>\n      ) : combinationHeaders && combinationHeaders.length > 0 ? (\n        <div className=\"mining-view\">\n          <div className=\"mining-header\">\n            <div className=\"current-path\">\n              {currentPath.map((item, index) => (\n                <span key={item + index}>\n                  {index > 0 && <span className=\"path-separator\">→</span>}\n                  <span className={index === 0 ? \"path-root\" : \"\"}>{item}</span>\n                </span>\n              ))}\n            </div>\n            <div className=\"header-actions\">\n              {ignoredNodes.length > 0 && (\n                <button \n                  className=\"reset-button\" \n                  onClick={() => {\n                    console.log('Reset ignored nodes');\n                    setIgnoredNodes([]);\n                    showNotification('무시된 노드를 모두 초기화했습니다');\n                  }}\n                >\n                  무시 초기화 ({ignoredNodes.length})\n                </button>\n              )}\n              <button className=\"settings-button\" onClick={toggleSettings}>\n                ⚙️\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"mining-tree-container\" ref={treeContainerRef}>\n            <div className=\"div-tree\">\n              {miningData && miningData.map(node => renderTreeNode(node, 0))}\n            </div>\n          </div>\n          \n          {showSettings && (\n            <div className=\"settings-panel\">\n              <div className=\"settings-header\">\n                <h3>패턴 설정</h3>\n                <button className=\"close-button\" onClick={toggleSettings}>×</button>\n              </div>\n              <div className=\"settings-content\">\n                <div className=\"threshold-item\">\n                  <div className=\"threshold-label\">{(minSupport * 100).toFixed(0)}%</div>\n                  <input \n                    type=\"range\" \n                    min=\"0.01\" \n                    max=\"0.5\" \n                    step=\"0.01\" \n                    value={minSupport}\n                    onChange={handleSupportChange}\n                  />\n                  <div className=\"threshold-name\">최소 지지도</div>\n                </div>\n                <div className=\"threshold-item\">\n                  <div className=\"threshold-label\">{(minConfidence * 100).toFixed(0)}%</div>\n                  <input \n                    type=\"range\" \n                    min=\"0.01\" \n                    max=\"0.9\" \n                    step=\"0.01\" \n                    value={minConfidence}\n                    onChange={handleConfidenceChange}\n                  />\n                  <div className=\"threshold-name\">최소 신뢰도</div>\n                </div>\n                <div className=\"threshold-item\">\n                  <div className=\"threshold-label\">{maxDepth}</div>\n                  <input \n                    type=\"range\" \n                    min=\"3\" \n                    max=\"100\" \n                    step=\"1\" \n                    value={maxDepth}\n                    onChange={handleDepthChange}\n                  />\n                  <div className=\"threshold-name\">최대 패턴 깊이</div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"column-empty\">\n          {testMode \n            ? \"마이닝 데이터를 로딩 중입니다...\" \n            : \"채널과 헤더를 선택하면 마이닝 결과가 표시됩니다.\"}\n        </div>\n      )}\n\n      <style jsx>{`\n        .mining-view {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          position: relative;\n        }\n        \n        .mining-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 8px 10px;\n          background-color: #ffffff;\n          border-bottom: 1px solid #eee;\n          z-index: 2;\n          position: sticky;\n          top: 0;\n        }\n        \n        .current-path {\n          font-size: 13px;\n          color: #555;\n          flex-grow: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .path-separator {\n          margin: 0 6px;\n          color: #999;\n        }\n        \n        .path-root {\n          font-weight: bold;\n        }\n        \n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .reset-button {\n          background: #f5f5f5;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          padding: 3px 8px;\n          font-size: 11px;\n          cursor: pointer;\n          color: #666;\n        }\n        \n        .reset-button:hover {\n          background: #eee;\n        }\n        \n        .settings-button {\n          background: none;\n          border: none;\n          font-size: 16px;\n          cursor: pointer;\n          padding: 4px 8px;\n          border-radius: 4px;\n          transition: background-color 0.2s;\n        }\n        \n        .settings-button:hover {\n          background-color: #f5f5f5;\n        }\n        \n        .mining-tree-container {\n          flex-grow: 1;\n          overflow: auto;\n          background-color: #ffffff;\n          padding: 10px;\n          border: 1px solid #e0e0e0;\n          border-top: none;\n        }\n        \n        .div-tree {\n          width: 100%;\n          position: relative;\n        }\n        \n        /* Tree node styling */\n        .tree-node-div {\n          position: relative;\n          margin-bottom: 10px;\n          cursor: pointer;\n        }\n        \n        .node-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 6px 12px;\n          background-color: #ffffff;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          min-height: 32px;\n          box-shadow: 0 1px 2px rgba(0,0,0,0.05);\n          transition: all 0.2s ease;\n        }\n        \n        .root-node .node-content {\n          background-color: #f8f9fa;\n        }\n        \n        .node-highlighted .node-content {\n          background-color: #e6f2fa;\n          border-color: #3498db;\n        }\n        \n        .node-text {\n          flex-grow: 1;\n          font-size: 12px;\n          color: #333;\n          margin-right: 10px;\n        }\n        \n        .node-actions {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n        \n        .support-value {\n          font-size: 12px;\n          color: #555;\n          min-width: 20px;\n          text-align: right;\n        }\n        \n        .ignore-button, .expand-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 18px;\n          height: 18px;\n          font-size: 10px;\n          background: #f5f5f5;\n          border: 1px solid #ddd;\n          border-radius: 50%;\n          cursor: pointer;\n          padding: 0;\n          transition: all 0.2s ease;\n        }\n        \n        .ignore-button:hover {\n          background: #fee;\n          color: #e74c3c;\n        }\n        \n        .expand-button:hover {\n          background: #eee;\n        }\n        \n        /* Connector lines */\n        .node-connector {\n          position: absolute;\n          left: -15px;\n          top: 16px;\n          height: 1px;\n          width: 15px;\n          background-color: #eee;\n        }\n        \n        .node-connector:before {\n          content: '';\n          position: absolute;\n          left: -15px;\n          width: 1px;\n          height: 100%;\n          background-color: #eee;\n          transform: translateY(-100%);\n        }\n        \n        .connector-highlighted {\n          background-color: #3498db;\n        }\n        \n        .connector-highlighted:before {\n          background-color: #3498db;\n        }\n        \n        .node-children {\n          position: relative;\n          margin-top: 10px;\n        }\n        \n        .settings-panel {\n          position: absolute;\n          top: 45px;\n          right: 10px;\n          width: 280px;\n          background: white;\n          border-radius: 6px;\n          box-shadow: 0 3px 10px rgba(0,0,0,0.15);\n          z-index: 10;\n          overflow: hidden;\n        }\n        \n        .settings-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px 15px;\n          background: #f8f9fa;\n          border-bottom: 1px solid #eee;\n        }\n        \n        .settings-header h3 {\n          margin: 0;\n          font-size: 14px;\n          color: #333;\n        }\n        \n        .close-button {\n          background: none;\n          border: none;\n          font-size: 18px;\n          cursor: pointer;\n          color: #666;\n        }\n        \n        .settings-content {\n          padding: 15px;\n        }\n        \n        .threshold-item {\n          margin-bottom: 15px;\n        }\n        \n        .threshold-label {\n          font-size: 13px;\n          font-weight: bold;\n          color: #333;\n          margin-bottom: 4px;\n          text-align: right;\n        }\n        \n        .threshold-name {\n          font-size: 12px;\n          color: #666;\n          margin-top: 2px;\n        }\n        \n        .threshold-item input {\n          width: 100%;\n        }\n        \n        .pattern-notification {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          background: rgba(52, 152, 219, 0.9);\n          color: white;\n          padding: 10px 15px;\n          border-radius: 4px;\n          font-size: 12px;\n          z-index: 1000;\n          transition: opacity 0.3s;\n          opacity: 1;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n        }\n        \n        .ignore-notification {\n          background: rgba(231, 76, 60, 0.9);\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default MiningView; "],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAA2F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAC7J,EAAA,CA13BIN,UAAU;AAAA4K,EAAA,GAAV5K,UAAU;AA43BhB,eAAeA,UAAU;AAAC,IAAA4K,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}